<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<meta http-equiv = "X-UA-Compatible" content="IE=edge,chrome=1"/>
	<meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
	<title>分配</title>
	<link rel="stylesheet" type="text/css" href="css/common.css">
	<link rel="stylesheet" type="text/css" href="css/index.css">
</head>
<body>
	<div class="container">
		<div class="search-box mui-flex">
			<div class="search fl cell">
				<input type="text" name="" value="" placeholder="搜索" class="font-size4 font-color3" id="search"/>
				<span class="icon search-icon"></span>
			</div>
			<!-- <div class="fr font-size5 font-color8">取消</div> -->
		</div>
		<div class="person-list-main font-size3 font-color3">
			<div class="list-wrap list-wrap01">
				<!-- <div class="list title">
					<div class="fl">同城</div>
				</div> -->
				<!-- <div class="list">
					<div class="fl"><em class="font-color2">林</em>日曦（8）</div>
					<div class="fr font-color1">40m</div>
				</div>
				<div class="list">
					<div class="fl"><em class="font-color2">林</em>日曦（8）</div>
					<div class="fr font-color1">40m</div>
				</div> -->
			</div>
			<div class="list-wrap list-wrap02">
				<!-- <div class="list title">
					<div class="fl">异地</div>
				</div> -->
				<!-- <div class="list">
					<div class="fl"><em class="font-color2">林</em>日曦（8）</div>
					<div class="fr font-color1">40m</div>
				</div>
				<div class="list">
					<div class="fl"><em class="font-color2">林</em>日曦（8）</div>
					<div class="fr font-color1">40m</div>
				</div>
				<div class="list">
					<div class="fl"><em class="font-color2">林</em>日曦（8）</div>
					<div class="fr font-color1">40m</div>
				</div>
				<div class="list">
					<div class="fl"><em class="font-color2">林</em>日曦（8）</div>
					<div class="fr font-color1">40m</div>
				</div>
				<div class="list">
					<div class="fl"><em class="font-color2">林</em>日曦（8）</div>
					<div class="fr font-color1">40m</div>
				</div>
				<div class="list">
					<div class="fl"><em class="font-color2">林</em>日曦（8）</div>
					<div class="fr font-color1">40m</div>
				</div><div class="list">
					<div class="fl"><em class="font-color2">林</em>日曦（8）</div>
					<div class="fr font-color1">40m</div>
				</div><div class="list">
					<div class="fl"><em class="font-color2">林</em>日曦（8）</div>
					<div class="fr font-color1">40m</div>
				</div> -->
			</div>
		</div>
	</div>
	<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>
	<script type="text/javascript">
		$(function(){
			// 获取json数据
			var calldata01=[
	            {
	                "name": "张三",
	                "idn": "20114100000"
	            },
	            {
	                "name": "李四",
	                "idn": "201556123000"
	            },
	            {
	                "name": "王五",
	                "idn": "2012101221000"
	            },
	            {
	                "name": "赵六",
	                "idn": "201191221000"
	            }
            ];
	        var calldata02=[
	            {
	                "name": "张三",
	                "idn": "20114100000"
	            },
	            {
	                "name": "李四",
	                "idn": "201556123000"
	            },
	            {
	                "name": "王五",
	                "idn": "2012101221000"
	            },
	            {
	                "name": "赵六",
	                "idn": "201191221000"
	            }
            ];
            // 初始化打印列表
            getList(calldata01,calldata02);

            // 模糊搜索
	        $('#search').bind('input propertychange', function() {  
	        	search();
			});
			document.onkeydown = function(e){
		        if((e.keyCode || e.which) == 13){
		        	search();
		        }
		    }
		    // 取消搜索
		   	$(".search-icon").live("click",function(){
		   		$(".search-icon").fadeOut();
		   		$("#search").val("");
		   		 getList(calldata01,calldata02);
		   	})
		    function search(){
	        	keyword=$("#search").val();
	        	if(keyword!=''){
	        		$(".search-icon").fadeIn();
	        	}else{
	        		$(".search-icon").fadeOut();
	        	}
	        	var this_calldata01=[];
	        	var this_calldata02=[];
	        	for(var i=0;i<calldata01.length;i++){
	        		var this_name=calldata01[i].name;
	        		if(this_name.indexOf(keyword) !=-1){
	        			this_calldata01.push(calldata01[i]);
	        		}
	        	}
	        	for(var i=0;i<calldata02.length;i++){
	        		var this_name=calldata02[i].name;
	        		if(this_name.indexOf(keyword) !=-1){
	        			this_calldata02.push(calldata02[i]);
	        		}
	        	}
	        	getList(this_calldata01,this_calldata02);
		    }
		    // 打印列表
		    function getList(calldata01,calldata02){
		    	var html01="";
		    	var html02="";
		    	html01+='<div class="list title">';
				html01+='	<div class="fl">同城</div>';
				html01+='</div>';
				html02+='<div class="list title">';
				html02+='	<div class="fl">异地</div>';
				html02+='</div>';
		    	for(var i=0;i<calldata01.length;i++){
	        		html01+='<div class="list">';
					html01+='	<div class="fl"><em class="font-color2">'+calldata01[i].name+'</em>（8）</div>';
					html01+='	<div class="fr font-color1">40m</div>';
					html01+='</div>';
	        	}
	        	for(var i=0;i<calldata02.length;i++){
	        		html02+='<div class="list">';
					html02+='	<div class="fl"><em class="font-color2">'+calldata02[i].name+'</em>（8）</div>';
					html02+='	<div class="fr font-color1">40m</div>';
					html02+='</div>';
	        	}
	        	$(".list-wrap01").html(html01);
	        	$(".list-wrap02").html(html02);
		    }
		    
		})
	</script>
</body>
</html>